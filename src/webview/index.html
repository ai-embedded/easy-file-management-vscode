<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Easy File</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
            background-color: var(--vscode-editor-background);
            color: var(--vscode-editor-foreground);
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        .section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid var(--vscode-widget-border);
            border-radius: 4px;
            background-color: var(--vscode-editor-background);
        }
        .section-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            color: var(--vscode-editor-foreground);
        }
        .demo-row {
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 20px;
            flex-wrap: wrap;
        }
    </style>
</head>
<body>
    <div id="app">
        <div class="container">
            <h1>Vue3 + Element Plus UI 组件演示</h1>
            
            <!-- 按钮组件演示 -->
            <div class="section">
                <div class="section-title">按钮组件</div>
                <div class="demo-row">
                    <el-button type="primary" @click="showMessage('Primary Button')">Primary</el-button>
                    <el-button type="success" @click="showMessage('Success Button')">Success</el-button>
                    <el-button type="info" @click="showMessage('Info Button')">Info</el-button>
                    <el-button type="warning" @click="showMessage('Warning Button')">Warning</el-button>
                    <el-button type="danger" @click="showMessage('Danger Button')">Danger</el-button>
                </div>
            </div>

            <!-- 开关组件演示 -->
            <div class="section">
                <div class="section-title">开关组件</div>
                <div class="demo-row">
                    <el-switch v-model="switchValue" @change="onSwitchChange"></el-switch>
                    <span>当前状态: {{ switchValue ? '开启' : '关闭' }}</span>
                </div>
                <div class="demo-row">
                    <el-switch 
                        v-model="switchValue2" 
                        active-text="开启" 
                        inactive-text="关闭"
                        @change="onSwitchChange2">
                    </el-switch>
                </div>
            </div>

            <!-- 输入框组件演示 -->
            <div class="section">
                <div class="section-title">输入框组件</div>
                <div class="demo-row">
                    <el-input 
                        v-model="inputValue" 
                        placeholder="请输入内容" 
                        style="width: 200px"
                        @input="onInputChange">
                    </el-input>
                    <span>输入内容: {{ inputValue }}</span>
                </div>
                <div class="demo-row">
                    <el-input 
                        v-model="passwordValue" 
                        type="password" 
                        placeholder="请输入密码"
                        show-password
                        style="width: 200px">
                    </el-input>
                </div>
            </div>

            <!-- 选择器组件演示 -->
            <div class="section">
                <div class="section-title">选择器组件</div>
                <div class="demo-row">
                    <el-select v-model="selectValue" placeholder="请选择" style="width: 200px" @change="onSelectChange">
                        <el-option label="选项1" value="option1"></el-option>
                        <el-option label="选项2" value="option2"></el-option>
                        <el-option label="选项3" value="option3"></el-option>
                        <el-option label="选项4" value="option4"></el-option>
                    </el-select>
                    <span>选择的值: {{ selectValue }}</span>
                </div>
            </div>

            <!-- 复选框组件演示 -->
            <div class="section">
                <div class="section-title">复选框组件</div>
                <div class="demo-row">
                    <el-checkbox v-model="checkboxValue" @change="onCheckboxChange">复选框</el-checkbox>
                    <span>状态: {{ checkboxValue ? '选中' : '未选中' }}</span>
                </div>
                <div class="demo-row">
                    <el-checkbox-group v-model="checkboxGroup" @change="onCheckboxGroupChange">
                        <el-checkbox label="选项A">选项A</el-checkbox>
                        <el-checkbox label="选项B">选项B</el-checkbox>
                        <el-checkbox label="选项C">选项C</el-checkbox>
                    </el-checkbox-group>
                </div>
                <div>选中的选项: {{ checkboxGroup.join(', ') }}</div>
            </div>

            <!-- 单选框组件演示 -->
            <div class="section">
                <div class="section-title">单选框组件</div>
                <div class="demo-row">
                    <el-radio-group v-model="radioValue" @change="onRadioChange">
                        <el-radio label="选项1">选项1</el-radio>
                        <el-radio label="选项2">选项2</el-radio>
                        <el-radio label="选项3">选项3</el-radio>
                    </el-radio-group>
                </div>
                <div>选中的值: {{ radioValue }}</div>
            </div>

            <!-- 滑块组件演示 -->
            <div class="section">
                <div class="section-title">滑块组件</div>
                <div class="demo-row">
                    <el-slider v-model="sliderValue" @change="onSliderChange" style="width: 200px"></el-slider>
                    <span>值: {{ sliderValue }}</span>
                </div>
            </div>

            <!-- 日期选择器演示 -->
            <div class="section">
                <div class="section-title">日期选择器</div>
                <div class="demo-row">
                    <el-date-picker
                        v-model="dateValue"
                        type="date"
                        placeholder="选择日期"
                        @change="onDateChange">
                    </el-date-picker>
                    <span>选择的日期: {{ dateValue }}</span>
                </div>
            </div>

            <!-- 通知和消息演示 -->
            <div class="section">
                <div class="section-title">通知和消息</div>
                <div class="demo-row">
                    <el-button @click="showNotification">显示通知</el-button>
                    <el-button @click="showAlert">显示警告</el-button>
                    <el-button @click="showConfirm">显示确认框</el-button>
                </div>
            </div>
        </div>
    </div>

    <!-- Vue 3 和 Element Plus CDN -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://unpkg.com/element-plus/dist/index.full.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/element-plus/dist/index.css" />

    <script>
        const { createApp, ref } = Vue;
        
        // 获取VSCode API (如果在VSCode webview中)
        const vscode = acquireVsCodeApi();

        const app = createApp({
            setup() {
                // 响应式数据
                const switchValue = ref(false);
                const switchValue2 = ref(true);
                const inputValue = ref('');
                const passwordValue = ref('');
                const selectValue = ref('');
                const checkboxValue = ref(false);
                const checkboxGroup = ref(['选项A']);
                const radioValue = ref('选项1');
                const sliderValue = ref(50);
                const dateValue = ref('');

                // 方法
                const showMessage = (message) => {
                    ElMessage.success(message);
                    // 发送消息到VSCode扩展
                    vscode.postMessage({
                        command: 'log',
                        text: `Button clicked: ${message}`
                    });
                };

                const onSwitchChange = (value) => {
                    ElMessage.info(`开关状态变更为: ${value ? '开启' : '关闭'}`);
                    vscode.postMessage({
                        command: 'log',
                        text: `Switch changed to: ${value}`
                    });
                };

                const onSwitchChange2 = (value) => {
                    ElMessage.info(`开关2状态变更为: ${value ? '开启' : '关闭'}`);
                };

                const onInputChange = (value) => {
                    vscode.postMessage({
                        command: 'log',
                        text: `Input changed to: ${value}`
                    });
                };

                const onSelectChange = (value) => {
                    ElMessage.info(`选择了: ${value}`);
                    vscode.postMessage({
                        command: 'log',
                        text: `Select changed to: ${value}`
                    });
                };

                const onCheckboxChange = (value) => {
                    ElMessage.info(`复选框状态: ${value ? '选中' : '未选中'}`);
                };

                const onCheckboxGroupChange = (value) => {
                    ElMessage.info(`复选框组选择: ${value.join(', ')}`);
                };

                const onRadioChange = (value) => {
                    ElMessage.info(`单选框选择: ${value}`);
                };

                const onSliderChange = (value) => {
                    vscode.postMessage({
                        command: 'log',
                        text: `Slider changed to: ${value}`
                    });
                };

                const onDateChange = (value) => {
                    ElMessage.info(`选择的日期: ${value}`);
                };

                const showNotification = () => {
                    ElNotification({
                        title: '成功',
                        message: '这是一个成功的通知示例',
                        type: 'success',
                    });
                };

                const showAlert = () => {
                    ElMessageBox.alert('这是一个警告消息', '警告', {
                        confirmButtonText: '确定',
                        type: 'warning',
                    });
                };

                const showConfirm = () => {
                    ElMessageBox.confirm('此操作将永久删除该文件, 是否继续?', '提示', {
                        confirmButtonText: '确定',
                        cancelButtonText: '取消',
                        type: 'warning',
                    }).then(() => {
                        ElMessage({
                            type: 'success',
                            message: '删除成功!',
                        });
                        vscode.postMessage({
                            command: 'alert',
                            text: '用户确认了删除操作'
                        });
                    }).catch(() => {
                        ElMessage({
                            type: 'info',
                            message: '已取消删除',
                        });
                    });
                };

                return {
                    switchValue,
                    switchValue2,
                    inputValue,
                    passwordValue,
                    selectValue,
                    checkboxValue,
                    checkboxGroup,
                    radioValue,
                    sliderValue,
                    dateValue,
                    showMessage,
                    onSwitchChange,
                    onSwitchChange2,
                    onInputChange,
                    onSelectChange,
                    onCheckboxChange,
                    onCheckboxGroupChange,
                    onRadioChange,
                    onSliderChange,
                    onDateChange,
                    showNotification,
                    showAlert,
                    showConfirm
                };
            }
        });

        // 使用Element Plus
        app.use(ElementPlus);
        
        // 挂载应用
        app.mount('#app');
    </script>
</body>
</html>
